# =============================
# Solview Environment Variables
# =============================
# All comments are in English. Adjust values per environment.

# --- Core Solview settings ---
# Log level for Solview logger (DEBUG, INFO, WARNING, ERROR)
SOLVIEW_LOG_LEVEL=INFO
# Deployment environment name (dev, stg, prd)
SOLVIEW_ENVIRONMENT=dev
# Technical service name of your app (used in metrics/logs/traces)
SOLVIEW_SERVICE_NAME=solview-demo-app
# Optional: business domain and subdomain for log enrichment
SOLVIEW_DOMAIN=solview
SOLVIEW_SUBDOMAIN=observability
# Application/library version tag (shown in logs/traces)
SOLVIEW_VERSION=1.0.1

# --- OpenTelemetry Resource semantics ---
# OTEL service namespace (team/domain); improves Grafana/Tempo grouping
OTEL_SERVICE_NAMESPACE=solview

# --- Data masking ---
# Enable enhanced sensitive data masking in logs
SOLVIEW_ENABLE_DATA_MASKING=true
# Retention policy hint for logs (days) â€“ informational
SOLVIEW_LOG_RETENTION_DAYS=30

# --- OpenTelemetry Exporter (to Tempo/Collector) ---
# Protocol to export spans: grpc or http
OTEL_EXPORTER_OTLP_PROTOCOL=grpc
# Host of your OTLP endpoint (Tempo/Collector). In docker-compose, service name works.
OTEL_EXPORTER_OTLP_ENDPOINT=tempo
# Port for OTLP exporter (4317 for gRPC, 4318 for HTTP by default)
OTEL_EXPORTER_OTLP_PORT=4317
# Only for HTTP protocol: set true if the OTLP endpoint is HTTPS
OTEL_EXPORTER_OTLP_HTTP_ENCRYPTED=false
# Optional auth header/token for managed backends
OTEL_EXPORTER_OTLP_AUTH_TOKEN=

# SQLAlchemy commenter (adds OTEL traceparent to SQL queries)
OTEL_SQLALCHEMY_ENABLE_COMMENTER=true

# --- Tracing sampler ---
# Sampler strategy: always_on | always_off | parentbased_traceidratio
OTEL_TRACES_SAMPLER=parentbased_traceidratio
# Ratio when using TraceIdRatioBased (0.0..1.0). 1.0 = sample everything.
OTEL_TRACES_SAMPLER_ARG=1.0

# --- Metrics exposure ---
# Enable Solview Prometheus metrics middleware
SOLVIEW_METRICS_ENABLED=true
# Port used by your app to expose metrics endpoint (if applicable)
SOLVIEW_METRICS_PORT=9090
# Metrics endpoint path
SOLVIEW_METRICS_PATH=/metrics

# --- Kubernetes (optional; populated automatically in clusters) ---
# Namespace of the running pod
KUBERNETES_NAMESPACE=default
# Node name (if provided by the scheduler)
KUBERNETES_NODE_NAME=
# HOSTNAME is typically injected by the container/orchestrator

# --- Testing toggles (optional) ---
# When set to "unittest", Solview uses a console exporter safe for pytest
# PYTHON_ENV=unittest
